describe('Admin - CRUD Majors', () => {
  it('Login', () => {
    cy.visit('/')
    cy.contains('.v-toolbar__title', 'Login')
    cy.get('input[name="email"]')
      .clear()
      .type('admin@gmail.com')
    cy.get('input[name="password"]')
      .clear()
      .type('admin123')
    cy.get('.v-input__icon--append').click()
    cy.get('.v-input__icon--append').click()
    cy.get('button[type="submit"]').click()
    cy.url().should('include', 'admin')
  })
  it('Navigate to Majors', () => {
    cy.get('.aio-menu-datasets').click()
    cy.get('.aio-menu-majors').click()
    cy.url().should('include', 'majors')
  })
  it('Create Major', () => {
    cy.get('.aio-create').click()
    cy.get('input[name="name"]')
      .clear()
      .type('A Major 1')
    cy.get('input[name="department_id"]')
      .clear()
      .type('Teknik Informatika dan Komputer{enter}')
    cy.get('input[name="study_program_id"]')
      .clear()
      .type('D3{enter}')
    cy.get('.aio-edit-save').click()
  })
  it('Edit Major', () => {
    cy.get('.aio-edit-a-major-1').click()
    cy.get('input[name="name"]')
      .clear()
      .type('A MAJOR 2')
    cy.get('input[name="department_id"]')
      .clear()
      .type('Teknik Elektro{enter}')
    cy.get('input[name="study_program_id"]')
      .clear()
      .type('Pascasarjana{enter}')
    cy.get('.aio-edit-save').click()
  })
  it('Delete Major', () => {
    cy.get('.aio-delete-a-major-2').click()
    cy.get('.aio-remove').click()
  })
})
